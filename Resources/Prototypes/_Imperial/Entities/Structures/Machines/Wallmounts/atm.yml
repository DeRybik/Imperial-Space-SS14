- type: entity
  id: atm
  name: ATM
  description: For all your monetary needs!
  placement:
    mode: SnapgridCenter
    snap:
    - Wallmount
  components:
  - type: WallMount
    arc: 360
  - type: Transform
    anchored: true
  - type: Clickable
  - type: InteractionOutline




  - type: Sprite
    sprite: _Imperial\Structures\Wallmounts\atm.rsi
    netsync: false
    snapCardinals: true
    state: 
    layers:
    - state: "off"
      map: ["enum.ATMVisualLayers.Base"]
    - state: "off"
      map: ["enum.ATMVisualLayers.BaseUnshaded"]
      shader: unshaded
  - type: ATM
    offState: off
    normalState: normal-unshaded

  - type: Appearance
  
  # - type: ApcPowerReceiver
  # - type: UserInterface
  #   interfaces:
  #   - key: enum.SharedAirAlarmInterfaceKey.Key
  #     type: AirAlarmBoundUserInterface
  #   - key: enum.WiresUiKey.Key
  #     type: WiresBoundUserInterface
  - type: AmbientOnPowered
  - type: AmbientSound
    volume: -9
    range: 3
    enabled: false
    sound:
      path: /Audio/Ambience/Objects/vending_machine_hum.ogg
  # - type: Destructible
  #   thresholds:
  #   - trigger:
  #       !type:DamageTrigger
  #       damage: 100
  #     behaviors:
  #     - !type:DoActsBehavior
  #       acts: ["Breakage"]
  #     - !type:EjectVendorItems

  - type: ActivatableUI
    key: enum.ATMUiKey.Key
  - type: ActivatableUIRequiresPower
  - type: UserInterface
    interfaces:
    - key: enum.ATMUiKey.Key
      type: ATMBoundUserInterface
  - type: PointLight
    enabled: false
    castShadows: false
    radius: 1.5
  - type: LitOnPowered
  - type: ApcPowerReceiver
    powerLoad: 200
    priority: Low
  # - type: Actions
  - type: ExtensionCableReceiver
  - type: EmitSoundOnUIOpen
    sound:
      collection: Keyboard